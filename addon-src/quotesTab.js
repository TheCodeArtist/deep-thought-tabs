var quotes = [
	'It\'s sad that a family can be torn apart by something as simple as a pack of wild dogs.',
	'Maybe in order to understand mankind,<br>we have to look at the word itself: "Mankind".<br><br>Basically,<br>it\'s made up of two separate words - "mank" and "ind".<br><br>What do these words mean ? It\'s a mystery,<br>and that\'s why so is mankind.',
	'I hope if dogs ever take over the world,<br>and they chose a king,<br>they don\'t just go by size,<br>because I bet there are some Chihuahuas with some good ideas.',
	'It takes a big man to cry,<br>but it takes a bigger man to laugh at that man.',
	'I bet the main reason the police keep people away from a plane crash is they don\'t want anybody walking in and lying down in the crash stuff,<br>then,<br>when somebody comes up,<br>act like they just woke up and go,<br>"What was THAT?!"',
	'The face of a child can say it all,<br>especially the mouth part of the face.',
	'Ambition is like a frog sitting on a Venus Flytrap.<br><br>The flytrap can bite and bite,<br>but it won\'t bother the frog because it only has little tiny plant teeth.<br><br>But some other stuff could happen and it could be like ambition.',
	'If you were a poor Indian with no weapons,<br>and a bunch of conquistadors came up to you and asked where the gold was,<br>I don\'t think it would be a good idea to say,<br>"I swallowed it - so sue me!"',
	'If you define cowardice as running away at the first sign of danger,<br>screaming and tripping and begging for mercy,<br>then yes, Mr. Brave man,<br>I guess I\'m a coward.',
	'I bet one legend that keeps recurring throughout history,<br>in every culture,<br>is the story of Popeye.',
	'When you go in for a job interview,<br>I think a good thing to ask is if they ever press charges.',
	'To me,<br>boxing is like a ballet,<br>except there\'s no music,<br>no choreography,<br>and the dancers hit each other.',
	'Probably the earliest flyswatters were nothing more than some sort of striking surface attached to the end of a long stick.',
	'I think someone should have had the decency to tell me the luncheon was free.<br><br>To make someone run out with potato salad in his hand,<br>pretending he\'s throwing up,<br>is not what I call hospitality.',
	'To me,<br>clowns aren\'t funny.<br><br>In fact,<br>they\'re kind of scary.<br><br>I\'ve wondered where this started and I think it goes back to the time I went to the circus,<br>and a clown killed my dad.',
	'Most people don\'t realize that large pieces of coral,<br>which have been painted brown and attached to the skull by common wood screws,<br>can make a child look like a deer.',
	'If trees could scream,<br>would we be so cavalier about cutting them down? We might,<br>if they screamed all the time,<br>for no good reason.',
	'Better not take a dog on the space shuttle,<br>because if he sticks his head out when you\'re coming home his face might burn up.',
	'You know what would make a good story? Something about a clown who made people happy,<br>but inside he\'s real sad.<br><br>Also,<br>he has severe diarrhea.',
	'Sometimes when I feel like killing someone,<br>I do a little trick to calm myself down.<br><br>I\'ll go over to the person\'s house and ring the doorbell.<br><br>When the person comes to the door,<br>I\'m gone,<br>but you know what I\'ve left on the porch? A jack-o-lantern with a knife stuck in the side of it\'s head with a note that says "You." After that I usually feel a lot better,<br>and no harm done.',
	'If you\'re a horse,<br>and someone gets on you,<br>and falls off,<br>and then gets right back on you,<br>I think you should buck him off right away.',
	'If you ever teach a yodeling class,<br>probably the hardest thing is to keep the students from just trying to yodel right off.<br><br>You see,<br>we build to that.',
	'If you ever fall off the Sears Tower,<br>just go real limp,<br>because maybe you\'ll look like a dummy and people will try to catch you because,<br>hey,<br>free dummy.',
	'Anytime I see something screech across a room and latch onto someones neck,<br>and the guy screams and tries to get it off,<br>I have to laugh,<br>because what is that thing.',
	'He was a cowboy,<br>mister,<br>and he loved the land.<br><br>He loved it so much he made a woman out of dirt and married her.<br><br>But when he kissed her,<br>she disintegrated.<br><br>Later,<br>at the funeral,<br>when the preacher said,<br>"Dust to dust," some people laughed,<br>and the cowboy shot them.<br><br>At his hanging,<br>he told the others,<br>"I\'ll be waiting for you in heaven--with a gun."',
	'The memories of my family outings are still a source of strength to me.<br><br>I remember we\'d all pile into the car - I forget what kind it was - and drive and drive.<br><br>I\'m not sure where we\'d go,<br>but I think there were some trees there.<br><br>The smell of something was strong in the air as we played whatever sport we played.<br><br>I remember a bigger,<br>older guy we called "Dad." We\'d eat some stuff,<br>or not,<br>and then I think we went home.<br><br>I guess some things never leave you.',
	'If a kid asks where rain comes from,<br>I think a cute thing to tell him is "God is crying." And if he asks why God is crying,<br>another cute thing to tell him is "Probably because of something you did."',
	'Contrary to what most people say,<br>the most dangerous animal in the world is not the lion or the tiger or even the elephant.<br><br>It\'s a shark riding on an elephant\'s back,<br>just trampling and eating everything they see.',
	'As we were driving, we saw a sign that said "Watch for Rocks."<br><br>Martha said it should read "Watch for Pretty Rocks."<br><br>I told her she should write in her suggestion to the highway department,<br>but she started saying it was a joke - just to get out of writing a simple letter!<br><br>And I thought I was lazy!',
	'One thing kids like is to be tricked.<br><br>For instance,<br>I was going to take my little nephew to DisneyLand,<br>but instead I drove him to an old burned-out warehouse.<br><br>"Oh, no," I said,<br>"DisneyLand burned down." He cried and cried,<br>but I think that deep down he thought it was a pretty good joke.<br><br>I started to drive over to the real DisneyLand,<br>but it was getting pretty late.',
	'If you saw two guys named Hambone and Flippy,<br>which one would you think liked dolphins the most? I\'d say Flippy,<br>wouldn\'t you? You\'d be wrong,<br>though.<br><br>It\'s Hambone.',
	'Laurie got offended that I used the word "puke." But to me,<br>that\'s what her dinner tasted like.',
	'I wish a robot would get elected president.<br><br>That way,<br>when he came to town,<br>we could all take a shot at him and not feel too bad.',
	'If you\'re a young Mafia gangster out on your first date,<br>I bet it\'s real embarrassing if someone tries to kill you.',
	'Whenever I see an old lady slip and fall on a wet sidewalk,<br>my first instinct is to laugh.<br><br>But then I think,<br>what if I was an ant,<br>and she fell on me.<br><br>Then it wouldn\'t seem quite so funny.',
	'If you go parachuting,<br>and your parachute doesn\'t open,<br>and you friends are all watching you fall,<br>I think a funny gag would be to pretend you were swimming.',
	'When I was a kid my favorite relative was Uncle Caveman.<br><br>After school we\'d all go play in his cave,<br>and every once in a while he would eat one of us.<br><br>It wasn\'t until later that I found out that Uncle Caveman was a bear.',
	'I think people tend to forget that trees are living creatures.<br><br>They\'re sort of like dogs.<br><br>Huge,<br>quiet,<br>motionless dogs,<br>with bark instead of fur.',
	'If you drop your keys into molten lava just let \'em go \'cause,<br>man,<br>they\'re gone.',
	'Once when I was in Hawaii,<br>on the island of Kauai,<br>I met a mysterious old stranger.<br><br>He said he was about to die and wanted to tell someone about the treasure.<br><br>I said,<br>"Okay,<br>as long as it\'s not a long story.<br><br>Some of us have a plane to catch,<br>you know." He stared telling hes story,<br>about the treasure and his life and all,<br>and I thought: "This story isn\'t too long." But then,<br>he kept going,<br>and I started thinking,<br>"Uh-oh,<br>this story is getting long." But then the story was over,<br>and I said to myself: "You know,<br>that story wasn\'t too long after all." I forget what the story was about,<br>but there was a good movie on the plane.<br><br>It was a little long,<br>though.',
	'In weightlifting,<br>I don\'t think sudden,<br>uncontrolled urination should automatically disqualify you.',
	'Blow ye winds,<br>like the trumpet blows,<br>but without that noise.',
	'When the age of the Vikings came to a close,<br>they must have sensed it.<br><br>Probably,<br>the gathered together one evening,<br>slapped each other on the back and said,<br>"Hey,<br>good job."',
	'I wish I had a kryptonite cross,<br>because then you could keep both Dracula AND Superman away.',
	'Too bad you can\'t just grab a tree by the very tiptop and bend it clear over the ground and then let her fly,<br>because I bet you\'d be amazed at all the stuff that comes flying out.',
	'I remember that one fateful day when Coach too me aside.<br><br>I knew what was coming.<br><br>"You don\'t have to tell me," I said.<br><br>"I\'m off the team,<br>aren\'t I?" "Well," said Coach,<br>"you never were really ON the team.<br><br>You made that uniform you\'re wearing out of rags and towels,<br>and your helmet is a toy space helmet.<br><br>You show up at practice and then either steal the ball and make us chase you to get it back,<br>or you try to tackle people at inappropriate times." It was all true what he was saying.<br><br>And yet,<br>I thought,<br>something is brewing inside the head of this Coach.<br><br>He sees something in me,<br>some kind of raw talent that he can mold.<br><br>But that\'s when I felt the handcuffs go on.',
	'If I ever do a book on the Amazon,<br>I hope I am able to bring a certain lightheartedness to the subject,<br>in a way that tells the reader we are going to have fun with this thing.',
	'Even though he was an enemy of mine,<br>I had to admit that what he had accomplished was a brilliant piece of strategy.<br><br>First,<br>he punched me,<br>then he kicked me,<br>then he punched me again.',
	'If you\'re at a Thanksgiving dinner,<br>but you don\'t like the stuffing or the cranberry sauce or anything else,<br>just pretend like you\'re eating it,<br>but instead,<br>put it all in your lap and form it into a big mushy ball Then,<br>later,<br>when you\'re out back having cigars with the boys,<br>let out a big fake cough and throw the ball to the ground.<br><br>Then say,<br>"Boy,<br>these are good cigars!"',
	'The sound of fresh rain run-off splashing from the roof reminded me of the sound of urine splashing into a filthy Texaco latrine.',
	'I think somebody should come up with a way to breed a very large shrimp.<br><br>That way,<br>you could ride him,<br>then after you camped at night,<br>you could eat him.<br><br>How about it,<br>science?',
	'Some folks say it was a miracle.<br><br>Saint Francis suddenly appeared and knocked the next pitch clean over the fence.<br><br>But I think it was just a lucky swing.',
	'Too bad there\'s not such a thing as a golden skunk,<br>because you\'d probably be proud to be sprayed by one.',
	'To me,<br>truth is not some vague,<br>foggy notion.<br><br>Truth is real.<br><br>And,<br>at the same time,<br>unreal.<br><br>Fiction and fact and everything in between,<br>plus some things I can\'t remember,<br>all rolled into one big \'thing\'.<br><br>This is truth,<br>to me.',
	'I bet a fun thing would be to go way back in time to where there was going to be an eclipse and tell the cave men,<br>"If I have come to destroy you,<br>may the sun be blotted out from the sky." Just then the eclipse would start,<br>and they\'d probably try to kill you or something,<br>but then you could explain about the rotation of the moon and all,<br>and everyone would get a good laugh.',
	'I think in one of my previous lives I was a mighty king,<br>because I like people to do what I say.',
	'Today I accidentally stepped on a snail on the sidewalk in front of our house.<br><br>And I thought,<br>I too am like that snail.<br><br>I build a defensive wall around myself,<br>a \'shell\' if you will.<br><br>But my shell isn\'t made out of a hard protective substance.<br><br>Mine is made out of tinfoil and paper bags.',
	'A man doesn\'t automatically get my respect.<br><br>He has to get down in the dirt and beg for it.',
	'If you\'re ever stuck in some thick undergrowth,<br>in your underwear,<br>don\'t stop and think of what other words have \'under\' in them,<br>because that\'s probably the first sign of jungle madness.',
	'Sometimes the beauty of the world is so overwhelming,<br>I just want to throw back my head and gargle.<br><br>Just gargle and gargle,<br>and I don\'t care who hears me,<br>because I am beautiful.',
	'Fear can sometimes be a useful emotion.<br><br>For instance,<br>let\'s say you\'re an astronaut on the moon and you fear that your partner nas been turned into Dracula.<br><br>The next time he goes out for the moon pieces,<br>wham!,<br>you just slam the door behind him and blast off.<br><br>He might call you on the radio and say he\'s not Dracula,<br>but you just say,<br>"Think again,<br>bat man."',
	'I wish scientists would come up with a way to make dogs a lot bigger,<br>but with a smaller head.<br><br>That way,<br>they\'d still be good as watchdogs,<br>but they wouldn\'t eat as much.',
	'I bet for an Indian,<br>shooting a old fat pioneer woman in the back with an arrow,<br>and she fires her shotgun into the ground as she falls over,<br>is like the top thing you can do.',
	'I think a good movie would be about a guy who\'s a brain scientist,<br>but he gets hit on the head and it damages the part of the brain that makes you want to study the brain.',
	'I wouldn\'t be surprised if someday some fisherman caught a big shark and cut it open,<br>and there inside was a whole person.<br><br>Then they cut the person open,<br>and in him is a little baby shark.<br><br>And in the baby shark there isn\'t a person,<br>because it would be too small.<br><br>But there\'s a little doll or something,<br>like a Johnny Combat little toy guy--something like that.',
	'If the Vikings were around today,<br>they would probably be amazed at how much glow-in-the-dark stuff we have,<br>and how we take so much of it for granted.',
	'It\'s not good to let any kid near a container that has a skull and crossbones on it,<br>because there might be a skeleton costume inside and the kid could put it on and really scare you.',
	'If you had a school for professional fireworks people,<br>I don\'t think you could cover fuses in just one class.<br><br>It\'s just too rich a subject.',
	'People think it would be fun to be a bird because you could fly.<br><br>But they forget the negative side,<br>which is the preening.',
	'If I live in the Wild West days,<br>instead of carrying a six-gun in my holster,<br>I\'d carry a soldering iron.<br><br>That was if some smart-aleck cowboy said something like,<br>"Hey look.<br><br>He\'s carrying a soldering iron!" and started laughing,<br>and everybody else started laughing,<br>I could just say,<br>"That\'s right,<br>it\'s a soldering iron.<br><br>The soldering iron of justice." Then everyone would get real quiet and ashamed,<br>because they made fun of the soldering iron of justice,<br>and I could probably hit them up for a free drink.',
	'When I think back on all the blessings I have been given in my life,<br>I can\'t think of a single one,<br>unless you count that rattlesnake that granted me all those wishes.',
	'I hope in the future Americans are thought of as a warlike,<br>vicious people,<br>because I bet a lot of high schools would pick \'Americans\' as their mascot.',
	'Sometimes I think the world has gone completely mad.<br><br>And then I think,<br>"Aw, who cares?"<br>And then I think,<br>"Hey, what\'s for supper?"',
	'If you ever discover that what you\'re seeing is a play within a play,<br>just slow down,<br>take a deep breath,<br>and hold on for the ride of your life.',
	'I can see why it would be prohibited to throw most things off the top of the Empire State Building,<br>but what\'s wrong with little bits of cheese? They probably break down into their various gases before they even hit.',
	'If you\'re a circus clown,<br>and you have a dog that you use in your act,<br>I don\'t think it\'s a good idea to also dress the dog up like a clown,<br>because people see that and they think,<br>"Forgive me, but that\'s just too much."',
	'Here\'s a good joke to do during an earthquake: straddle a big crack in the ground,<br>and if it opens wider,<br>go "Whoa! Whoa!" and flail your arms around,<br>like you\'re going to fall in.',
	'If you ever go temporarily insane,<br>don\'t shoot somebody,<br>like a lot of people do.<br><br>Instead,<br>try to get some weeding done,<br>because you\'d really be surprised.',
	'It makes me mad when people say I turned and ran like a scared rabbit.<br><br>Maybe it was like an angry rabbit,<br>who was running to go fight in another fight,<br>away from the first fight.',
	'I think a good way to get into a movie is to show up where they\'re making the movie,<br>then stick a big cactus plant onto your buttocks and start yowling and running around.<br><br>Everyone would think it was funny,<br>and the head movie guy would say,<br>"Hey,<br>let\'s put him in the movie."',
	'Instead of having \'answers\' on a math test,<br>they should just call them \'impressions\' and it you got a diffrent \'impression\' so what,<br>can\'t we all be brothers?',
	'Probably to a shark about the funniest thing there is,<br>is a wounded seal trying to swim to shore,<br>because WHERE DOES HE THINK HE\'S GOING?!'
]

/* Populate an initial quote */
newQuote()

/* Allow user to generate new quotes */
document.getElementById("getQuoteBtn").addEventListener("click", newQuote);

/* to avoid warnings about - "Unsafe assignment to innerHTML" */
function escapeHTML(str) {
	escapeHTML.replacements = { "&": "&amp;", '"': "&quot;", "'": "&#39;", "<": "&lt;", ">": "&gt;" };
	return str.replace(/[&"'<>]/g, (m) => escapeHTML.replacements[m]);
}


/* Returns a random quote with random font */
function newQuote() {

	/* Hide the button first */
	document.getElementById("getQuoteBtn").style.opacity = 0;
	
	/* Next hide the quote text */
	document.getElementById('quoteText').style.opacity = 0;
	
	/* Update quoteText font-family randomly */
	var randomFontFamily = Math.floor(Math.random() * 4);
	var supportedFonts = [ "Arima Madurai", "Farsan", "Gruppo", "Special Elite"];
	document.getElementById("quoteText").style.fontFamily = supportedFonts[randomFontFamily]

	/* Update a quoteText font-size randomly */
	var randomFontSize = Math.floor(Math.random() * 16);
	document.getElementById("quoteText").style.fontSize = (20 + randomFontSize) + 'px';
		
	/* Pick a quote at random from the list of 82 quotes */
	var randomQuoteId = Math.floor(Math.random() * 82);
	/* Do NOT show the new quote yet */
		
	/* Generate 3 keywords and Load a relevant Image as page background */
	var separators = ['-', ' ', '"', '\'',  '+', '(', ')', '*', ':', '?', '.', ',', '<', '>'];
	var wordsArray = quotes[randomQuoteId].toLowerCase().split(new RegExp('[' + separators.join('') + ']', 'g'));

	/* Sort the array in order of word-length */
	var wordsArray = wordsArray.sort(function(a, b) { 
		return b.length - a.length;
	});

	/* Pick the 3 longest words in the quote */
	keywords = wordsArray[0] + ',' + wordsArray[1] + ',' + wordsArray[2];
	console.log(keywords)
	
	/* Attempt to fetch a backgroundimage, and update it if found */
	loadBackgroundImage(keywords)

	/* Show the image attribution */
	document.getElementById('imgAttr').style.opacity = 1.0;
	
	/* Finally show the new quote */
	document.getElementById('quoteText').innerHTML = quotes[randomQuoteId];
	document.getElementById('quoteText').style.opacity = 1.0;
	
	/* and Finally show the button */
	document.getElementById("getQuoteBtn").style.opacity = 1.0;
}